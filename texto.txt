üöÄ TRYONME‚ÄìTRYONYOU‚ÄìULTRA‚ÄìAVBET ‚Äì Versi√≥n Ultra-Plus
Json
{
  "schema_version": "1.0.0",
  "last_updated": "2025-08-09T16:00:00+02:00",
  "project": {
    "name": "TRYONME‚ÄìTRYONYOU‚ÄìULTRA‚ÄìAVBET ‚Äî Ultra-Plus",
    "short_name": "TRYON ULTRA-PLUS",
    "owner": "Rub√©n Espinar Rodr√≠guez",
    "brands": ["LIVE IT", "VVL ART", "TryOnMe / TryOnYou"],
    "mission": "Eliminar devoluciones por talla y producir moda on-demand con IA, pago biom√©trico y f√°bricas conectadas."
  },
  "legal_ip": {
    "patent": {
      "status": "presentada con prioridad",
      "scope": [
        "Avatar 3D con medidas reales",
        "Comparador textil inteligente",
        "Recomendador emocional (PAU)",
        "Pago biom√©trico Iris+Voz (AVBET)",
        "Producci√≥n JIT y generaci√≥n creativa de prendas",
        "Armario solidario / redistribuci√≥n"
      ],
      "annexes": ["descripci√≥n t√©cnica", "diagramas de flujo", "claims", "anexos de integraci√≥n"]
    }
  },
  "architecture": {
    "layers": {
      "experience": [
        "Web App (Shopify + landing Wix)",
        "Vestidor Virtual 3D",
        "Panel cliente (pedidos, medidas, looks guardados)"
      ],
      "intelligence": [
        "Avatar3D Engine",
        "Fit Comparator",
        "PAU Emotional Recommender",
        "Creative Auto-Production (IA dise√±os)",
        "Dynamic Pricing",
        "Offer Re-Engagement Engine"
      ],
      "transactions": [
        "AVBET (Iris+Voz)",
        "Payments Gateway fallback",
        "Order Orchestrator"
      ],
      "operations": [
        "Factory Connectors (print&cut, confecci√≥n)",
        "Logistics Router (env√≠o directo)",
        "Returns‚ÜíReuse (Armario solidario)"
      ],
      "data": [
        "User Profile & Measurements",
        "Product & Materials DB",
        "Events/Telemetry",
        "Feature Store (ML)",
        "Reporting/KPIs (Sheets/Looker)"
      ],
      "automation": [
        "Make/Zapier scenarios",
        "Apps Script (Calendar + Sheets)",
        "GitHub Actions (CI/CD)",
        "Webhooks (Shopify/Factories)"
      ],
      "security_compliance": [
        "PII vault",
        "Consent/Opt-in",
        "Audit logs",
        "Secrets manager (NUNCA en repos p√∫blicos)"
      ]
    }
  },
  "modules": {
    "avatar3D": {
      "id": "mod.avatar3d",
      "inputs": ["altura", "peso", "circunferencias", "foto opcional"],
      "outputs": ["avatar_param√©trico", "tabla_medidas_normalizada"],
      "apis": ["POST /avatar/build", "GET /avatar/{id}"],
      "kpis": ["latencia_ms", "error_medida_mm"]
    },
    "fitComparator": {
      "id": "mod.fit",
      "logic": ["matching morfol√≥gico", "tolerancias tejido", "historial ajuste"],
      "apis": ["POST /fit/compare"],
      "kpis": ["% acierto talla", "reducci√≥n devoluciones"]
    },
    "pauRecommender": {
      "id": "mod.pau",
      "signals": ["mood", "color_affinity", "contexto_evento"],
      "apis": ["POST /recommend/pau"],
      "kpis": ["CTR_reco", "AOV_uplift"]
    },
    "avbet": {
      "id": "mod.avbet",
      "factors": ["iris", "voz"],
      "flows": ["enrolamiento", "verificaci√≥n", "firma de pago"],
      "apis": ["POST /avbet/enroll", "POST /avbet/verify", "POST /avbet/pay"],
      "kpis": ["tasa_verificaci√≥n", "fraude_ppm"]
    },
    "jitProduction": {
      "id": "mod.jit",
      "triggers": ["evento: add_to_try", "evento: intent_buy", "evento: reoffer_click"],
      "artifacts": ["patr√≥n", "print_file", "ficha_t√©cnica"],
      "apis": ["POST /factory/order", "GET /factory/order/{id}/status"],
      "kpis": ["lead_time_horas", "OTD_%", "coste_unitario"]
    },
    "creativeAutoProduction": {
      "id": "mod.cap",
      "when": ["no-match-perfecto", "petici√≥n exlusiva"],
      "inputs": ["medidas", "paleta", "brief_est√©tico (marca)"],
      "outputs": ["mockup", "archivos_producci√≥n"],
      "kpis": ["ratio_aceptaci√≥n_dise√±o", "tiempo_generaci√≥n"]
    },
    "reofferEngine": {
      "id": "mod.reoffer",
      "rules": ["abandono", "view_sin_compra", "evento_emocional"],
      "channels": ["email", "push", "whatsapp (opt-in)"],
      "kpis": ["recovery_rate", "AOV_post_reoffer"]
    },
    "wardrobeSolidarity": {
      "id": "mod.solid",
      "logic": ["donaci√≥n/reciclaje", "cup√≥n retorno"],
      "kpis": ["% reciclado", "impacto_CO2_estimado"]
    }
  },
  "integrations": {
    "ecommerce": ["Shopify Storefront/Admin API"],
    "cms_landing": ["Wix"],
    "automation": ["Make", "Zapier"],
    "factories": ["Factory API v1 (print-on-demand)", "SFTP fallback"],
    "logistics": ["Carrier APIs"],
    "auth_payments": ["AVBET core", "Payment PSP fallback"],
    "analytics": ["GA4", "Sheets", "Looker/Datastudio"],
    "ip_office": ["EPCT/WIPO endpoints (consulta)"]
  },
  "repos": {
    "main": {
      "name": "TRYONME-TRYONYOU-AVBETOS--INTELLIGENCE--SYSTEM",
      "components": [
        "apps/web",
        "services/avatar3d",
        "services/fit",
        "services/pau",
        "services/avbet",
        "services/jit",
        "services/cap",
        "services/reoffer",
        "packages/ui",
        "infra/ci-cd",
        "docs/"
      ]
    },
    "tryon_app": {
      "ci_cd": "GitHub Actions ‚Üí Vercel",
      "notes": ["a√±adir devDependency vercel", "deploy --prebuilt --prod"]
    }
  },
  "deployment": {
    "platforms": ["Vercel (web)", "Node services (Docker)"],
    "environments": ["dev", "staging", "prod"],
    "config": {
      "feature_flags": ["cap_enabled", "avbet_required", "reoffer_dynamic_pricing"],
      "i18n": ["en", "es", "fr"]
    }
  },
  "data_model": {
    "entities": {
      "User": ["user_id", "pii_ref", "medidas", "preferencias", "consent"],
      "Product": ["sku", "pattern_id", "materiales", "tallas_meta", "colorways"],
      "Design": ["design_id", "prompt_base", "assets", "factory_ready_files"],
      "Order": ["order_id", "status", "factory_job_id", "tracking"],
      "Event": ["event_id", "type", "payload", "timestamp"]
    },
    "events": [
      "view_item",
      "add_to_try",
      "tryon_fit_score",
      "intent_buy",
      "avbet_verified",
      "order_submitted",
      "factory_started",
      "order_shipped",
      "reoffer_sent",
      "reoffer_converted"
    ]
  },
  "workflows": {
    "realtime_production": [
      "user: enters_vestidor",
      "system: avatar3d->fitComparator->pau",
      "branch: match_perfect? yes->offer; no->CAP generate",
      "user: avbet pay",
      "orchestrator: submit JIT to factory",
      "factory: produce->ship",
      "system: confirm_delivery->collect_feedback"
    ],
    "reoffer_loop": [
      "detect abandono",
      "segmentaci√≥n emocional",
      "incentivo din√°mico",
      "env√≠o multicanal",
      "medici√≥n y aprendizaje"
    ],
    "solidarity_cycle": [
      "cliente dona",
      "clasificaci√≥n",
      "cup√≥n retorno",
      "impacto ambiental"
    ]
  },
  "security": {
    "pii": "cifrado en reposo y tr√°nsito",
    "biometrics": "plantillas hash/no reversibles",
    "secrets": "gestor de secretos (no en c√≥digo)",
    "compliance": ["GDPR", "PSD2 (pagos)", "ISO27001 (objetivo)"],
    "audit": ["access_logs", "model_decisions (clave)"]
  },
  "dashboards": {
    "google_sheets_master": {
      "sheet_name": "PMV_Master_Dashboard",
      "columns": [
        "tarea",
        "responsable",
        "prioridad",
        "fecha_entrega",
        "estado",
        "bloqueo",
        "dependencias",
        "comentarios",
        "url_prueba",
        "kpi_relacionado"
      ]
    },
    "apps_script_calendar": {
      "reminders": [
        "deploy_prod_semana",
        "revisi√≥n_kpis_viernes",
        "renovaci√≥n_claves_trimestral"
      ]
    },
    "kpis": [
      "fit_accuracy",
      "return_rate",
      "lead_time_horas",
      "AOV",
      "conversion_rate",
      "reoffer_recovery",
      "CO2_saved_est"
    ]
  },
  "business": {
    "models": [
      "D2C on-demand",
      "B2B SaaS (licencia motor FIT/PAU/AVBET)",
      "Revenue share con f√°bricas"
    ],
    "pricing_examples": {
      "SaaS_core": "‚Ç¨ por MAU",
      "per_order_fee": "‚Ç¨ por pedido JIT",
      "setup_factory": "fee integraci√≥n"
    },
    "segments": ["denim/jeans (Levi‚Äôs target)", "streetwear premium", "made-to-measure lite"]
  },
  "internationalization": {
    "default": "en",
    "supported": ["es", "fr"],
    "content_policy": "textos p√∫blicos en EN; internos en ES"
  },
  "agents": {
    "PMV_Project_Manager_Virtual": {
      "role": "gesti√≥n de tareas web",
      "sheets": "PMV_Master_Dashboard",
      "calendar": "recordatorios autom√°ticos",
      "reports": "semanal progreso"
    },
    "others": [
      "Content Pro",
      "Ficha T√©cnica Master",
      "Proveedor Tracker",
      "RRSS Automator",
      "Tester UX Web",
      "Factory Master",
      "Mockup Artist",
      "Checkout UX Master",
      "Look Curator",
      "Fit-AI Assistant",
      "Brand Guardian",
      "HR Supervisor"
    ]
  },
  "pmv_runtime": {
    "prioritization_rules": [
      "bloqueantes de prod > todo",
      "seguridad/secrets > alto",
      "ventas/ci-cd > alto",
      "nice_to_have > bajo"
    ],
    "redistribution_policy": "si responsable tiene >3 pendientes cr√≠ticas, redistribuir por disponibilidad",
    "weekly_report": ["resumen estado", "riesgos", "siguientes hitos", "KPIs vs objetivo"]
  },
  "roadmap": {
    "current_sprint": "2025-W33",
    "goals": [
      "Stabilizar CI/CD Vercel",
      "Activar reoffer_engine en prod",
      "Pilotar 1 f√°brica EU con JIT"
    ],
    "next": [
      "CAP a cat√°logo c√°psula",
      "PSP fallback multi-pasarela",
      "Panel cliente v1"
    ]
  },
  "backlog_tasks": [
    {
      "tarea": "Arreglar pipeline vercel not found",
      "responsable": "DevOps",
      "prioridad": "cr√≠tica",
      "fecha_entrega": "2025-08-10",
      "estado": "en_progreso",
      "dependencias": ["devDependency vercel", "token vercel en secrets CI"],
      "kpi_relacionado": "deploy_success_rate"
    },
    {
      "tarea": "Conectar reoffer_engine a email/push",
      "responsable": "Automation",
      "prioridad": "alta",
      "fecha_entrega": "2025-08-12",
      "estado": "pendiente",
      "kpi_relacionado": "reoffer_recovery"
    },
    {
      "tarea": "Factory connector EU piloto",
      "responsable": "Factory Master",
      "prioridad": "alta",
      "fecha_entrega": "2025-08-20",
      "estado": "pendiente",
      "kpi_relacionado": "lead_time_horas"
    }
  ],
  "monitoring": {
    "alerts": ["errores 5xx >1%", "latencia avatar > 2s", "fallo verificaci√≥n AVBET > 5%"],
    "logs": ["app", "events", "security"],
    "healthchecks": ["web", "apis", "factory connectors"]
  },
  "notes": {
    "secrets_policy": "No incluir tokens/keys en issues, repos ni chats. Usar gestor de secretos.",
    "factory_files": "Siempre generar y versionar print/patr√≥n en storage privado."
  }
}